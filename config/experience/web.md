# Web 踩坑经验

1. 文字偶现乱码：

现象：通过 css 属性 content 填充的文字，偶尔会显示成乱码。

解决：是将文字改为 unicode 编码，例如 content: '展开' 应改为 content: ''\5c55\5f00''；

2. 符号”_“偶现不显示：

现象：文字父容器设置了 overflow: hidden，在窗口缩放时，缩放到一定比例（不同显示器不一样）会发现"_"消看不见了。

原因：猜测可能是浏览器底层渲染时，对不足1px的内容发生了偏移导致，在特定屏幕特定缩放率下会导致”_“向下偏移了1个像素，加上父容器设置了 overflow: hidden，所及就看不见了。

解决：对文字增加样式 padding-bottom: 1px 即可解决此类问题，修改后怎么缩放都不会再消失。

## 当浏览器输入一个 URL, 会发生什么？

为什么会问这个问题？

当浏览器输入一个URL,会发生什么?

- URL解析,包括协议(如http)、域名、端口、路径和参数等
- 处理缓存,包括强缓存,协商缓存命中等
- dns解析,解析域名,获取ip地址
- 建立链接,请求服务器资源,Nginx,CLB,CDN等
- 处理响应,资源的加载顺序,资源阻塞等
- 构建Dom树,CSS树,渲染页面,js执行等

上面url的加载过程,其实就是我们可以优化的过程,比如:

1. dns解析慢,我们可以找运维更换dns解析服务商
2. 缓存不生效,我们可以调整缓存策略
3. 部分地区网络慢,我们可以上cdn
4. 资源加载慢,处理响应慢,我们可以拆包,gzip压缩,优化资源加载顺序,上http2
5. 页面渲染慢,减少dom树层级,减少css选择器复杂度,减少js执行时间

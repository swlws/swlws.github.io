<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/imgs/logo.png"><title>浅谈 ASM | Code思维</title><meta name="description" content="多读书 多看报 多思考">
    <link rel="modulepreload" href="/assets/app.28a1ca3c.js"><link rel="modulepreload" href="/assets/asm.html.25d23cf7.js"><link rel="modulepreload" href="/assets/asm.html.fd65e69c.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/assets/style.173d2c01.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/imgs/logo.png" alt="Code思维"><span class="site-name can-hide">Code思维</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/front/" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/secure/" class="router-link-active" aria-label="安全"><!--[--><!--]--> 安全 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tool/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/swlws" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/front/" class="" aria-label="前端"><!--[--><!--]--> 前端 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/secure/" class="router-link-active" aria-label="安全"><!--[--><!--]--> 安全 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/tool/" class="" aria-label="工具"><!--[--><!--]--> 工具 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/swlws" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/secure/" class="router-link-active sidebar-item sidebar-heading" aria-label="概览"><!--[--><!--]--> 概览 <!--[--><!--]--></a><!----></li><li><a href="/secure/out-net-scan.html" class="sidebar-item sidebar-heading" aria-label="外网探测"><!--[--><!--]--> 外网探测 <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="浅谈-asm" tabindex="-1"><a class="header-anchor" href="#浅谈-asm" aria-hidden="true">#</a> 浅谈 ASM</h1><p>ASM 全称为 Attack Surface Management(ASM)，是由 Gartner 在 2021 年 7 月 14 日发布《2021 安全运营技术成熟度曲线》提出的概念。</p><p>带着疑问阅读：</p><ul><li>ToB 中的资产？</li><li>ASM 是什么？</li><li>ASM 要解决什么问题？</li><li>ASM 带来了什么价值？</li><li>ASM 的核心能力？</li><li>ASM 产品有哪些？</li></ul><h2 id="tob-中的资产" tabindex="-1"><a class="header-anchor" href="#tob-中的资产" aria-hidden="true">#</a> ToB 中的资产</h2><p>谈 ASM 之前，先聊下资产。在 ToB 中资产的分类，大致可以分为四类：</p><ul><li>已知资产。指一个组织明确知道、并在管理中的资产。如 Web 站点、服务。</li><li>未知资产。通常指影子资产，这类不被组织机构感知、管理的。比如被遗忘的网络站点、服务等。</li><li>供应商资产。来自第三方厂商、或者伙伴公司的资产。</li><li>附属资产。属于同一个组织，但来自于合并或收购的附属公司的资产。可能是已知资产、未知资产、厂商资产。</li></ul><p>按照部署方式，可以划分为：</p><ul><li>本地资产</li><li>云资产</li></ul><p>再细分的话，可以化为：</p><ul><li>操作系统。Windows、Linux...</li><li>硬件信息。主板、硬盘、内存条...</li><li>指纹。IP、Domain、Cert、端口、进程、服务...</li><li>应用程序。 <ul><li>系统程序。ssh、c++...</li><li>用户程序。数据库、中间件...</li></ul></li><li>Web 站点</li></ul><p><strong>常见的资产收集方式：</strong></p><ul><li>CMDB</li><li>网络空间资产测绘，外部视角下的资产</li><li>Agent 探针，内部视角下的资产</li></ul><h2 id="攻击面是什么" tabindex="-1"><a class="header-anchor" href="#攻击面是什么" aria-hidden="true">#</a> 攻击面是什么</h2><p>ASM 是强调从<code>外部攻击者的角度</code>，对组织机构的资产的攻击面进行持续发现、清点、分类、优先级排序和监控。</p><p>ASM 帮助组织识别暴露在互联网和攻击者的 IT 资产，并监控它们是否存在增加攻击风险的意外变化（用户提权、文件提权等）和漏洞（漏洞、补丁、基线配置、入侵等）。</p><p>从外部攻击者的角度来看，安全团队很容易根据这些资产的可攻击性级别（资产对攻击者的吸引力）确定优先级进行修复。</p><p>ASM 通常在站在外部的角度描述的，因此也被称作 EASM（External Attack Surface Management ），即外部攻击面管理。另外还有一种新型的技术 CAASM（Cyber Asset Attack Surface Management），即网络资产攻击面管理。</p><h3 id="一个攻击面包含哪些东西" tabindex="-1"><a class="header-anchor" href="#一个攻击面包含哪些东西" aria-hidden="true">#</a> 一个攻击面包含哪些东西</h3><p>攻击面涉及的资产有许多种类型，它包含所有在互联网上可见的硬件、软件、SaaS、云资产等等，攻击者通过这些能够被发现、并加以利用的资产，从而达到破坏企业安全的目的。</p><p>攻击面产品 VS 资产管理产品：</p><ul><li>对于一个组织机构，资产指的是其所拥有的全部的硬件、软件；</li><li>攻击面更倾向于描述，这个组织机构中暴露给攻击者的资产。所以，可以认为攻击面是资产的一个子集。</li></ul><p>攻击面 VS 攻击向量（Attack Vector）：</p><ul><li>攻击向量是一种方法，它用于窃取一个网络、设备的访问权限。</li><li>攻击面可以视为攻击向量的集合，攻击者使用攻击面，操纵网络、计算机系统，或者窃取数据。</li></ul><h2 id="哪些因素会影响攻击面" tabindex="-1"><a class="header-anchor" href="#哪些因素会影响攻击面" aria-hidden="true">#</a> 哪些因素会影响攻击面</h2><p>攻击面应该是一个动态的结构，每时每刻都会不一样。影响攻击面范围的因素主要有三种因素：</p><ul><li>未知资产。这类不受控的资产，存在大量被攻击的潜能。</li><li>新发现的漏洞、补丁。权威机构机构发布的漏洞补丁信息，会直接响应攻击面的输出值。比如之前发布的 log4j 漏洞。</li><li>持续增加的云资产。云部署的便利性，导致最大的不受控风险。</li></ul><h2 id="asm-的价值" tabindex="-1"><a class="header-anchor" href="#asm-的价值" aria-hidden="true">#</a> ASM 的价值</h2><p>常见的 ToB 类的安全产品，资产管理、漏洞管理、渗透测试、红蓝对抗（BAS）等，都是从单维度解决服务器的安全问题。ASM 意图综合这些工具，将数据汇总，统一评估设备的风险信息。</p><p>ASM 产品期望带来的收益：</p><ul><li>持续发现资产（已知资产、未知资产、供应商资产、附属资产），评定风险等级。</li><li>减少攻击面、减少不必要的响应处理。并不是漏洞就一定需要修复（广义的漏洞，包括配置项、漏洞、补丁、弱口令等），找出真正需要处理的漏洞。</li><li>加固网络安全态势。通过修复手段，防御网络安全。</li></ul><h2 id="asm-的核心能力" tabindex="-1"><a class="header-anchor" href="#asm-的核心能力" aria-hidden="true">#</a> ASM 的核心能力</h2><ul><li>持续发现全方位资产。</li><li>动态生成攻击面。由于新设备的扩增、应用的增加、新增用户等因素，攻击面应该是一个动态的生成过程。</li><li>上下文检测。同一个资产在不同的 IT 环境下，它的攻击面是不相同的。需要考虑多种因素，比如一个资产，被谁拥有、在什么时间、什么位置、如何被使用，以及使用环境、使用者的 IP 地址、网络连接等信息，都可以影响攻击面。</li><li>评定优先级。依据资产的风险等级、安全等级，确定资产的修复优先级。这个评定是基于客观的环境，比如：一个使用了高危漏洞的 log4j 的资产，它的修复优先级可能是最低的（可能的原因，设备未联网）。</li><li>修复。对漏洞、补丁、配置、弱口令等的修复工作。</li></ul><p>概括的来讲，一个理想的 ASM 产品应该具备的能力：</p><ul><li>动态的自动清点资产</li><li>从攻击者的视角看待资产，并评估资产的风险</li><li>基于上下文环境、风险等级，评定处理优先级</li><li>动态更新攻击面</li><li>及时告警</li><li>提供 API 接口，能够集成其它的安全产品</li></ul><h2 id="asm-产品" tabindex="-1"><a class="header-anchor" href="#asm-产品" aria-hidden="true">#</a> ASM 产品</h2><ul><li><a href="https://www.upguard.com/product/breachsight" target="_blank" rel="noopener noreferrer">UpGuard Breaksight<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><ul><li>偏向于数据、凭证泄露的检测，比如：S3、同步服务、Github 上的泄密信息</li><li>集成能力，可以集成 RiskIQ</li></ul></li><li><a href="https://www.riskiq.com/products/illuminate/" target="_blank" rel="noopener noreferrer">RiskIQ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><ul><li>偏向于威胁情报</li></ul></li><li><a href="https://censys.io/attack-surface-management/" target="_blank" rel="noopener noreferrer">censys<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><ul><li>侧重于网络攻击面管理，无内部视角的资产。</li></ul></li><li><a href="https://elevatesecurity.com/why-elevate/" target="_blank" rel="noopener noreferrer">Elevate Security<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><ul><li>它认为 90%安全问题，是由人为操作引起的，将人的行为当作风险进行管理</li></ul></li><li><a href="https://www.tenable.com/products/tenable-lumin" target="_blank" rel="noopener noreferrer">tenable lumin<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><ul><li>基于漏洞的 Cyber Exposure Score</li></ul></li><li><a href="https://www.cycognito.com/demo-video" target="_blank" rel="noopener noreferrer">CYCOGNITO<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><ul><li>外部视角的 ASM</li></ul></li></ul><h2 id="结束语" tabindex="-1"><a class="header-anchor" href="#结束语" aria-hidden="true">#</a> 结束语</h2><p>道高一尺，魔高一丈。网络安全中，攻击者的攻击方式永远比组织机构知道更多，我们需要做是尽可能的减少攻击面。</p><p>ASM 本质是集成各类安全产品，对已知风险的管理作出一个指引，让产品使用者能够从攻击者的视角，了解到设备具备的风险，以及哪些风险是需要及时修复的、哪些风险实际上是可以不用理会的。</p><p>ASM 是一个综合的体系，它涉及很多方面，配置、漏洞、补丁、入侵等。</p><p>产品的难点：</p><ol><li>全面的资产清点。如何清点、归类所有的资产？</li><li>攻击者的视角。暴露面如何处理，什么样的资产才是被暴露的呢？攻击面如何定义？</li><li>上下文。如何计算一个资产的上下文？</li><li>风险评级算法。哪些因素需要加入风险的计算？</li></ol><hr><p><strong>Product:</strong></p><ul><li>UpGuard Breaksight https://www.upguard.com/product/breachsight</li><li>RiskIQ https://www.riskiq.com/products/illuminate/</li><li>Elevate Security https://elevatesecurity.com/why-elevate/</li><li>censys https://censys.io/attack-surface-management/</li><li>Elevate Security https://elevatesecurity.com/why-elevate/</li><li>tenable lumin https://www.tenable.com/products/tenable-lumin</li><li>CYCOGNITO https://www.cycognito.com/demo-video</li></ul><p><strong>Reference:</strong></p><ul><li>[^1]: Top Security and Risk Management Trends for 2022 https://www.gartner.com/en/newsroom/press-releases/2022-03-07-gartner-identifies-top-security-and-risk-management-trends-for-2022</li><li>[^2]: Randori ASM Reference https://www.randori.com/guides/attack-surface-management-the-definitive-guide/</li><li>[^3]: UpGard ASM Reference https://www.upguard.com/blog/attack-surface-management</li><li>[^4]: RiskIQ ASM Reference https://www.riskiq.com/what-is-attack-surface-management/</li><li>[^5]: CrowdStrike ASM Reference https://www.crowdstrike.com/cybersecurity-101/attack-surface-management/</li><li>[^6]: CrowdStrike&#39;s RiskIQ https://www.crowdstrike.com/falcon/2020/wp-content/uploads/2020/10/RiskIQ-Store-Partner-Solution-Brief.pdf</li><li>[^7]: Attack Vector https://www.upguard.com/blog/attack-vector</li><li>[^8]: 网络安全防御技术 https://websec.readthedocs.io/zh/latest/defense/index.html</li><li>[^9]: 资产暴露面的误区 http://www.hackdig.com/07/hack-421252.htm</li></ul><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/true/edit/main/secure/asm.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.28a1ca3c.js" defer></script>
  </body>
</html>

import{d as e,r as a,a as l,i as n,b as r,e as s,k as t,q as o}from"./vue.07e3fbd3.js";var u=e({setup(){const e=a(""),l=a("");return"serviceWorker"in navigator&&(navigator.serviceWorker.register("./tab-message.sw.js").then((e=>{})),navigator.serviceWorker.addEventListener("message",(e=>{l.value=e.data}))),{instr:e,outmsg:l,sendMsg:()=>{var a;"serviceWorker"in navigator&&(null==(a=navigator.serviceWorker.controller)||a.postMessage(e.value))}}}});const i=s("h1",null,"Service Worker",-1),d=s("div",null,"每一个Tab页认为是一个client，通过ServiceWorker向每个客户端广播消息",-1),v=s("span",null,"输入：",-1),c=o("发送"),p=s("span",null,"输出",-1);u.render=function(e,a,o,u,g,m){const k=l("el-input"),f=l("el-col"),W=l("el-button"),V=l("el-row");return n(),r("div",null,[i,d,s("section",null,[v,s(V,null,{default:t((()=>[s(f,{span:18},{default:t((()=>[s(k,{modelValue:e.instr,"onUpdate:modelValue":a[1]||(a[1]=a=>e.instr=a),type:"input"},null,8,["modelValue"])])),_:1}),s(f,{span:2}),s(f,{span:2},{default:t((()=>[s(W,{onClick:e.sendMsg},{default:t((()=>[c])),_:1},8,["onClick"])])),_:1})])),_:1})]),s("section",null,[p,s(k,{modelValue:e.outmsg,"onUpdate:modelValue":a[2]||(a[2]=a=>e.outmsg=a),type:"textarea",rows:10},null,8,["modelValue"])])])};export default u;
